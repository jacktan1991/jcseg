general:
  branches:
    ignore:
      - master

#### any section has pre: override: post: ####

## Configuring the test machine
machine:
  timezone:
    Asia/Shanghai
  java:
    ## jdk version is a string here, not allow multi-jdk
    version:
      oraclejdk8
      
## Checking out code
## skip

## Setting up dependencies
## default is - mvn dependency:resolve
dependencies:
  pre:
    - mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
  
## Setting up test databases
## skip

## Running tests
## default is - mvn integration-test
test:
  override:
    - mvn test checkstyle:check -B
  post:
    - mvn clean site
    - cp -R ./jcseg-core/target $CIRCLE_ARTIFACTS
